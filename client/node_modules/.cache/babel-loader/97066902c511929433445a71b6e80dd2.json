{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zabid\\\\NS\\\\blogsMajorProject\\\\client\\\\src\\\\components\\\\NewArticle.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"./Layout\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Uploadimage from \"./Uploadimage\";\nimport UploadArray from \"./UploadArray\";\n\nconst NewArticle = () => {\n  let history = useHistory();\n  const [formInputs, setFormInputs] = useState({\n    title: \"\",\n    description: \"\",\n    markdown: \"\",\n    buttonText: \"Submit\"\n  });\n  const {\n    title,\n    description,\n    markdown,\n    buttonText\n  } = formInputs;\n  const authors = useSelector(state => state);\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\n  const images = authors.imageID;\n  const imagePath = authors.imgPath;\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\n  const cusineImages = authors.imageArrayID;\n  const cusineImagesPath = authors.imageArrayPath;\n\n  const handleChange = event => {\n    setFormInputs({ ...formInputs,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setFormInputs({ ...formInputs,\n      buttonText: \"Submitting\"\n    });\n    axios.post(\"http://localhost:8000/blogs/add-new-article\", {\n      title,\n      description,\n      markdown,\n      author,\n      images,\n      imagePath,\n      postedByEmail,\n      cusineImages,\n      cusineImagesPath\n    }).then(res => {\n      console.log(`new article posted ${res} and ${author} and ${images}`);\n      setFormInputs({ ...formInputs,\n        title: \"\",\n        description: \"\",\n        markdown: \"\",\n        buttonText: \"Submitted\"\n      });\n      history.push(\"/user/dashboard\");\n    }).catch(err => {\n      console.log(`There is error while pushing to database from frontend ${err}`);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Add New Article\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \" \", \"upload your image here \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 34\n    }\n  }), \" \", /*#__PURE__*/React.createElement(Uploadimage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \" \", \"upload cusine image \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 31\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"title\",\n    value: title,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(UploadArray, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"4\",\n    name: \"description\",\n    value: description,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Markdown\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"3\",\n    className: \"form-control\",\n    type: \"text\",\n    name: \"markdown\",\n    value: markdown,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, buttonText)))));\n};\n\nexport default NewArticle;","map":{"version":3,"sources":["C:/Users/Zabid/NS/blogsMajorProject/client/src/components/NewArticle.js"],"names":["React","useState","axios","Layout","useHistory","useSelector","Uploadimage","UploadArray","NewArticle","history","formInputs","setFormInputs","title","description","markdown","buttonText","authors","state","author","localStorage","getItem","images","imageID","imagePath","imgPath","postedByEmail","cusineImages","imageArrayID","cusineImagesPath","imageArrayPath","handleChange","event","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","push","catch","err"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Layout from \"./Layout\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Uploadimage from \"./Uploadimage\";\r\nimport UploadArray from \"./UploadArray\";\r\n\r\nconst NewArticle = () => {\r\n  let history = useHistory();\r\n\r\n  const [formInputs, setFormInputs] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    markdown: \"\",\r\n    buttonText: \"Submit\",\r\n  });\r\n\r\n  const { title, description, markdown, buttonText } = formInputs;\r\n  const authors = useSelector((state) => state);\r\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\r\n  const images = authors.imageID;\r\n  const imagePath = authors.imgPath;\r\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\r\n  const cusineImages = authors.imageArrayID;\r\n  const cusineImagesPath = authors.imageArrayPath;\r\n\r\n  const handleChange = (event) => {\r\n    setFormInputs({\r\n      ...formInputs,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setFormInputs({ ...formInputs, buttonText: \"Submitting\" });\r\n\r\n    axios\r\n      .post(\"http://localhost:8000/blogs/add-new-article\", {\r\n        title,\r\n        description,\r\n        markdown,\r\n        author,\r\n        images,\r\n        imagePath,\r\n        postedByEmail,\r\n        cusineImages,\r\n        cusineImagesPath,\r\n      })\r\n      .then((res) => {\r\n        console.log(`new article posted ${res} and ${author} and ${images}`);\r\n        setFormInputs({\r\n          ...formInputs,\r\n          title: \"\",\r\n          description: \"\",\r\n          markdown: \"\",\r\n          buttonText: \"Submitted\",\r\n        });\r\n        history.push(\"/user/dashboard\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          `There is error while pushing to database from frontend ${err}`\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n        <div className=\"container\">\r\n          <h2 className=\"text-center\">Add New Article</h2>\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          upload your image here <br /> <Uploadimage />\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          upload cusine image <br />{\" \"}\r\n        </div>\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label>Title</label>\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={handleChange}\r\n            />\r\n            <UploadArray />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Description</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              rows=\"4\"\r\n              name=\"description\"\r\n              value={description}\r\n              onChange={handleChange}\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Markdown</label>\r\n            <textarea\r\n              rows=\"3\"\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"markdown\"\r\n              value={markdown}\r\n              onChange={handleChange}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n            >\r\n              {buttonText}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NewArticle;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zabid\\\\NS\\\\blogsMajorProject\\\\client\\\\src\\\\components\\\\NewArticle.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"./Layout\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Uploadimage from \"./Uploadimage\";\nimport UploadArray from \"./UploadArray\";\nimport UploadVisitedPlaceArray from \"./UploadVistedPlaceArray\";\n\nconst NewArticle = () => {\n  let history = useHistory();\n  const [formInputs, setFormInputs] = useState({\n    title: \"\",\n    description: \"\",\n    markdown: \"\",\n    buttonText: \"Submit\",\n    cusineImagesDescription: [],\n    visitedPlacesImagesDescription: []\n  });\n  const [cusineImagesDescription, setCusineImageForm] = useState([]);\n  const {\n    title,\n    description,\n    markdown,\n    buttonText\n  } = formInputs;\n  const authors = useSelector(state => state);\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\n  const images = authors.imageID;\n  const imagePath = authors.imgPath;\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\n  const cusineImages = authors.imageArrayID;\n  const cusineImagesPath = authors.imageArrayPath;\n  const visitedPlaceImages = authors.imageVisitArrayID;\n  const visitedPlacesImagesPath = authors.imageVisitArrayPath;\n  const NoOfCusineImages = authors.imageArrayLength;\n  const NoOfVisitedPlacaeImages = authors.imageVisitArrayLength;\n  const [cusine, setCusine] = useState([]);\n  const [visited, setVisited] = useState([]);\n  const [visitedPlaces, setVisitedPlaces] = useState(visitedPlacesImagesPath);\n\n  const handleDescriptionChange = key => event => {\n    setCusineImageForm([...cusineImagesDescription, cusineImagesDescription[key] = event.target.value]);\n  };\n\n  const handleChange = event => {\n    setFormInputs({ ...formInputs,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setFormInputs({ ...formInputs,\n      buttonText: \"Submitting\"\n    });\n    axios.post(\"http://localhost:8000/blogs/add-new-article\", {\n      title,\n      description,\n      markdown,\n      author,\n      images,\n      imagePath,\n      postedByEmail,\n      cusineImages,\n      cusineImagesPath,\n      visitedPlaceImages,\n      visitedPlacesImagesPath,\n      cusineImagesDescription\n    }).then(res => {\n      console.log(`new article posted ${res} and ${author} and ${images}`);\n      setFormInputs({ ...formInputs,\n        title: \"\",\n        description: \"\",\n        markdown: \"\",\n        buttonText: \"Submitted\"\n      });\n      history.push(\"/user/dashboard\");\n    }).catch(err => {\n      console.log(`There is error while pushing to database from frontend ${err}`);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Add New Article\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \" \", \"Upload the image of the city\", /*#__PURE__*/React.createElement(Uploadimage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \" \", \"upload cusine image (upto 6 images)\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), \" \", /*#__PURE__*/React.createElement(UploadArray, {\n    setCusine: setCusine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 18\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \" \", \"upload visited place image (upto 6 images)\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), \" \", /*#__PURE__*/React.createElement(UploadVisitedPlaceArray, {\n    setVisited: setVisited,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 18\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"title\",\n    value: title,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"4\",\n    name: \"description\",\n    value: description,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, cusine.map((inp, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"Describe you \", index, \" cusine \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"2\",\n    value: index,\n    name: \"description\",\n    onChange: handleDescriptionChange(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, visited.map((inp, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, \"Describe you \", index, \" visited place \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"2\",\n    name: \"description\",\n    onChange: handleDescriptionChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Markdown\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"3\",\n    className: \"form-control\",\n    type: \"text\",\n    name: \"markdown\",\n    value: markdown,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, buttonText)))), \" \");\n};\n\nexport default NewArticle;","map":{"version":3,"sources":["C:/Users/Zabid/NS/blogsMajorProject/client/src/components/NewArticle.js"],"names":["React","useState","axios","Layout","useHistory","useSelector","Uploadimage","UploadArray","UploadVisitedPlaceArray","NewArticle","history","formInputs","setFormInputs","title","description","markdown","buttonText","cusineImagesDescription","visitedPlacesImagesDescription","setCusineImageForm","authors","state","author","localStorage","getItem","images","imageID","imagePath","imgPath","postedByEmail","cusineImages","imageArrayID","cusineImagesPath","imageArrayPath","visitedPlaceImages","imageVisitArrayID","visitedPlacesImagesPath","imageVisitArrayPath","NoOfCusineImages","imageArrayLength","NoOfVisitedPlacaeImages","imageVisitArrayLength","cusine","setCusine","visited","setVisited","visitedPlaces","setVisitedPlaces","handleDescriptionChange","key","event","target","value","handleChange","name","handleSubmit","preventDefault","post","then","res","console","log","push","catch","err","map","inp","index"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Layout from \"./Layout\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Uploadimage from \"./Uploadimage\";\r\nimport UploadArray from \"./UploadArray\";\r\nimport UploadVisitedPlaceArray from \"./UploadVistedPlaceArray\";\r\n\r\nconst NewArticle = () => {\r\n  let history = useHistory();\r\n\r\n  const [formInputs, setFormInputs] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    markdown: \"\",\r\n    buttonText: \"Submit\",\r\n    cusineImagesDescription: [],\r\n    visitedPlacesImagesDescription: [],\r\n  });\r\n\r\n  const [cusineImagesDescription, setCusineImageForm] = useState([]);\r\n\r\n  const { title, description, markdown, buttonText } = formInputs;\r\n  const authors = useSelector((state) => state);\r\n\r\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\r\n  const images = authors.imageID;\r\n  const imagePath = authors.imgPath;\r\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\r\n  const cusineImages = authors.imageArrayID;\r\n  const cusineImagesPath = authors.imageArrayPath;\r\n  const visitedPlaceImages = authors.imageVisitArrayID;\r\n  const visitedPlacesImagesPath = authors.imageVisitArrayPath;\r\n  const NoOfCusineImages = authors.imageArrayLength;\r\n  const NoOfVisitedPlacaeImages = authors.imageVisitArrayLength;\r\n\r\n  const [cusine, setCusine] = useState([]);\r\n  const [visited, setVisited] = useState([]);\r\n\r\n  const [visitedPlaces, setVisitedPlaces] = useState(visitedPlacesImagesPath);\r\n\r\n  const handleDescriptionChange = (key) => (event) => {\r\n    setCusineImageForm([\r\n      ...cusineImagesDescription,\r\n      (cusineImagesDescription[key] = event.target.value),\r\n    ]);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setFormInputs({\r\n      ...formInputs,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setFormInputs({ ...formInputs, buttonText: \"Submitting\" });\r\n\r\n    axios\r\n      .post(\"http://localhost:8000/blogs/add-new-article\", {\r\n        title,\r\n        description,\r\n        markdown,\r\n        author,\r\n        images,\r\n        imagePath,\r\n        postedByEmail,\r\n        cusineImages,\r\n        cusineImagesPath,\r\n        visitedPlaceImages,\r\n        visitedPlacesImagesPath,\r\n        cusineImagesDescription,\r\n      })\r\n      .then((res) => {\r\n        console.log(`new article posted ${res} and ${author} and ${images}`);\r\n        setFormInputs({\r\n          ...formInputs,\r\n          title: \"\",\r\n          description: \"\",\r\n          markdown: \"\",\r\n          buttonText: \"Submitted\",\r\n        });\r\n        history.push(\"/user/dashboard\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          `There is error while pushing to database from frontend ${err}`\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n        <div className=\"container\">\r\n          <h2 className=\"text-center\">Add New Article</h2>\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          Upload the image of the city\r\n          <Uploadimage />\r\n          <br />\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          upload cusine image (upto 6 images)\r\n          <br /> <UploadArray setCusine={setCusine} />{\" \"}\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          upload visited place image (upto 6 images)\r\n          <br /> <UploadVisitedPlaceArray setVisited={setVisited} />{\" \"}\r\n        </div>\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label>Title</label>\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Description</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              rows=\"4\"\r\n              name=\"description\"\r\n              value={description}\r\n              onChange={handleChange}\r\n            ></textarea>\r\n          </div>\r\n          <div>\r\n            {cusine.map((inp, index) => (\r\n              <div key={index} className=\"form-group\">\r\n                <label>Describe you {index} cusine </label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  rows=\"2\"\r\n                  value={index}\r\n                  name=\"description\"\r\n                  onChange={handleDescriptionChange(index)}\r\n                ></textarea>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div>\r\n            {visited.map((inp, index) => (\r\n              <div key={index} className=\"form-group\">\r\n                <label>Describe you {index} visited place </label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  rows=\"2\"\r\n                  name=\"description\"\r\n                  onChange={handleDescriptionChange}\r\n                ></textarea>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Markdown</label>\r\n            <textarea\r\n              rows=\"3\"\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"markdown\"\r\n              value={markdown}\r\n              onChange={handleChange}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n            >\r\n              {buttonText}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>{\" \"}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NewArticle;\r\n"]},"metadata":{},"sourceType":"module"}
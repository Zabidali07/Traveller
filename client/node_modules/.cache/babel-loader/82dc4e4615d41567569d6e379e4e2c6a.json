{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zabid\\\\NS\\\\blogsMajorProject\\\\client\\\\src\\\\components\\\\Activate.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nconst Activate = ({\n  match\n}) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    token: \"\",\n    show: true\n  });\n  useEffect(() => {\n    let token = match.params.token; // console.log(token);\n\n    if (token) {\n      let {\n        name\n      } = jwt.decode(token);\n      setValues(v => ({ ...v,\n        name,\n        token\n      }));\n    }\n  }, [match.params.token]);\n  const {\n    name,\n    token\n  } = values;\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    axios.post(\"http://localhost:8000/blogs/activate-account\", {\n      token\n    }).then(response => {\n      console.log(\"ACCOUNT ACTIVATION\", response);\n      setValues({ ...values,\n        show: false\n      });\n      toast.success(response.data.message);\n    }).catch(error => {\n      console.log(\"ACCOUNT ACTIVATION ERROR\", error.response.data.error);\n      toast.error(error.response.data.error);\n    });\n  };\n\n  const activationLink = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Hey \", name, \", Ready to activate your account?\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    onClick: clickSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Activate Account\"));\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 offset-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), activationLink()));\n};\n\nexport default Activate;","map":{"version":3,"sources":["C:/Users/Zabid/NS/blogsMajorProject/client/src/components/Activate.js"],"names":["React","useState","useEffect","Layout","axios","jwt","ToastContainer","toast","Activate","match","values","setValues","name","token","show","params","decode","v","clickSubmit","event","preventDefault","post","then","response","console","log","success","data","message","catch","error","activationLink"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAC9B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC;AACnCW,IAAAA,IAAI,EAAE,EAD6B;AAEnCC,IAAAA,KAAK,EAAE,EAF4B;AAGnCC,IAAAA,IAAI,EAAE;AAH6B,GAAD,CAApC;AAMAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,KAAK,GAAGJ,KAAK,CAACM,MAAN,CAAaF,KAAzB,CADc,CAEd;;AACA,QAAIA,KAAJ,EAAW;AACT,UAAI;AAAED,QAAAA;AAAF,UAAWP,GAAG,CAACW,MAAJ,CAAWH,KAAX,CAAf;AACAF,MAAAA,SAAS,CAAEM,CAAD,KAAQ,EAAE,GAAGA,CAAL;AAAQL,QAAAA,IAAR;AAAcC,QAAAA;AAAd,OAAR,CAAD,CAAT;AACD;AACF,GAPQ,EAON,CAACJ,KAAK,CAACM,MAAN,CAAaF,KAAd,CAPM,CAAT;AASA,QAAM;AAAED,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBH,MAAxB;;AAEA,QAAMQ,WAAW,GAAIC,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACAhB,IAAAA,KAAK,CACFiB,IADH,CACQ,8CADR,EACwD;AAAER,MAAAA;AAAF,KADxD,EAEGS,IAFH,CAESC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAlC;AACAZ,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaI,QAAAA,IAAI,EAAE;AAAnB,OAAD,CAAT;AACAP,MAAAA,KAAK,CAACmB,OAAN,CAAcH,QAAQ,CAACI,IAAT,CAAcC,OAA5B;AACD,KANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChBN,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCK,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBG,KAA5D;AACAvB,MAAAA,KAAK,CAACuB,KAAN,CAAYA,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBG,KAAhC;AACD,KAVH;AAWD,GAbD;;AAeA,QAAMC,cAAc,GAAG,mBACrB;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAyBnB,IAAzB,sCADF,eAEE;AAAQ,IAAA,SAAS,EAAC,yBAAlB;AAA4C,IAAA,OAAO,EAAEM,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,CADF;;AASA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGa,cAAc,EAFjB,CADF,CADF;AAQD,CAlDD;;AAoDA,eAAevB,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport axios from \"axios\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst Activate = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    token: \"\",\r\n    show: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let token = match.params.token;\r\n    // console.log(token);\r\n    if (token) {\r\n      let { name } = jwt.decode(token);\r\n      setValues((v) => ({ ...v, name, token }));\r\n    }\r\n  }, [match.params.token]);\r\n\r\n  const { name, token } = values;\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:8000/blogs/activate-account\", { token })\r\n      .then((response) => {\r\n        console.log(\"ACCOUNT ACTIVATION\", response);\r\n        setValues({ ...values, show: false });\r\n        toast.success(response.data.message);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"ACCOUNT ACTIVATION ERROR\", error.response.data.error);\r\n        toast.error(error.response.data.error);\r\n      });\r\n  };\r\n\r\n  const activationLink = () => (\r\n    <div className=\"text-center\">\r\n      <h1 className=\"p-5\">Hey {name}, Ready to activate your account?</h1>\r\n      <button className=\"btn btn-outline-primary\" onClick={clickSubmit}>\r\n        Activate Account\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"col-md-6 offset-md-3\">\r\n        <ToastContainer />\r\n        {activationLink()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Activate;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zabid\\\\NS\\\\blogsMajorProject\\\\client\\\\src\\\\components\\\\Articlecopy.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"./Layout\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Uploadimage from \"./Uploadimage\";\nimport UploadArray from \"./UploadArray\";\nimport UploadVisitedPlaceArray from \"./UploadVistedPlaceArray\";\n\nconst NewArticle = () => {\n  let history = useHistory();\n  const [formInputs, setFormInputs] = useState({\n    title: \"\",\n    description: \"\",\n    markdown: \"\",\n    buttonText: \"Submit\"\n  });\n  let cusineImagesDescription = [];\n  let visitedPlacesImagesDescription = [];\n  const {\n    title,\n    description,\n    markdown,\n    buttonText\n  } = formInputs;\n  const authors = useSelector(state => state);\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\n  const images = authors.imageID;\n  const imagePath = authors.imgPath;\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\n  const cusineImages = authors.imageArrayID;\n  const cusineImagesPath = authors.imageArrayPath;\n  const visitedPlaceImages = authors.imageVisitArrayID;\n  const visitedPlacesImagesPath = authors.imageVisitArrayPath;\n  const NoOfCusineImages = authors.imageArrayLength;\n  const NoOfVisitedPlacaeImages = authors.imageVisitArrayLength;\n  const [cusine, setCusine] = useState([]);\n  const [visited, setVisited] = useState([]);\n  const [eachCusine, setEachCusine] = useState({\n    0: \"\",\n    1: \"\",\n    2: \"\",\n    3: \"\",\n    4: \"\",\n    5: \"\"\n  });\n  const [eachVisited, setEachVisited] = useState({\n    0: \"\",\n    1: \"\",\n    2: \"\",\n    3: \"\",\n    4: \"\",\n    5: \"\"\n  });\n  const [visitedPlaces, setVisitedPlaces] = useState(visitedPlacesImagesPath);\n\n  const handleDescriptionChange = event => {\n    setEachCusine({ ...eachCusine,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleVisitedDescription = event => {\n    setEachVisited({ ...eachVisited,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleChange = event => {\n    setFormInputs({ ...formInputs,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(\"gone gobn\");\n\n    for (let i = 0; i < cusine.length; i++) {\n      cusineImagesDescription.push(eachCusine[i]);\n    }\n\n    for (let i = 0; i < visited.length; i++) {\n      visitedPlacesImagesDescription.push(eachVisited[i]);\n    }\n\n    setFormInputs({ ...formInputs,\n      buttonText: \"Submitting\"\n    });\n    axios.post(\"/add-new-article\", {\n      title,\n      description,\n      markdown,\n      author,\n      images,\n      imagePath,\n      postedByEmail,\n      cusineImages,\n      cusineImagesPath,\n      visitedPlaceImages,\n      visitedPlacesImagesPath,\n      cusineImagesDescription,\n      visitedPlacesImagesDescription\n    }).then(res => {\n      console.log(`new article posted ${res} and ${author} and ${images}`);\n      setFormInputs({ ...formInputs,\n        title: \"\",\n        description: \"\",\n        markdown: \"\",\n        buttonText: \"Submitted\"\n      });\n    }).catch(err => {\n      console.log(`There is error while pushing to database from frontend ${err}`);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Add New Article\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \" \", \"Upload the image of the city\", /*#__PURE__*/React.createElement(Uploadimage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \" \", \"upload cusine image (upto 6 images)\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }), \" \", /*#__PURE__*/React.createElement(UploadArray, {\n    setCusine: setCusine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 22\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \" \", \"upload visited place image (upto 6 images)\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }), \" \", /*#__PURE__*/React.createElement(UploadVisitedPlaceArray, {\n    setVisited: setVisited,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 22\n    }\n  }), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"title\",\n    value: title,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"4\",\n    name: \"description\",\n    value: description,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, cusine.map((inp, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Describe you \", index, \" cusine \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"2\",\n    name: index,\n    onChange: handleDescriptionChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, visited.map((inp, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, \"Describe you \", index, \" visited place \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    type: \"text\",\n    rows: \"2\",\n    name: index,\n    onChange: handleVisitedDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, \"Markdown\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"3\",\n    className: \"form-control\",\n    type: \"text\",\n    name: \"markdown\",\n    value: markdown,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, buttonText)))))), \" \");\n};\n\nexport default NewArticle;","map":{"version":3,"sources":["C:/Users/Zabid/NS/blogsMajorProject/client/src/components/Articlecopy.js"],"names":["React","useState","axios","Layout","useHistory","useSelector","Uploadimage","UploadArray","UploadVisitedPlaceArray","NewArticle","history","formInputs","setFormInputs","title","description","markdown","buttonText","cusineImagesDescription","visitedPlacesImagesDescription","authors","state","author","localStorage","getItem","images","imageID","imagePath","imgPath","postedByEmail","cusineImages","imageArrayID","cusineImagesPath","imageArrayPath","visitedPlaceImages","imageVisitArrayID","visitedPlacesImagesPath","imageVisitArrayPath","NoOfCusineImages","imageArrayLength","NoOfVisitedPlacaeImages","imageVisitArrayLength","cusine","setCusine","visited","setVisited","eachCusine","setEachCusine","eachVisited","setEachVisited","visitedPlaces","setVisitedPlaces","handleDescriptionChange","event","target","name","value","handleVisitedDescription","handleChange","handleSubmit","preventDefault","console","log","i","length","push","post","then","res","catch","err","map","inp","index"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Layout from \"./Layout\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Uploadimage from \"./Uploadimage\";\r\nimport UploadArray from \"./UploadArray\";\r\nimport UploadVisitedPlaceArray from \"./UploadVistedPlaceArray\";\r\n\r\nconst NewArticle = () => {\r\n  let history = useHistory();\r\n\r\n  const [formInputs, setFormInputs] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    markdown: \"\",\r\n    buttonText: \"Submit\",\r\n  });\r\n\r\n  let cusineImagesDescription = [];\r\n  let visitedPlacesImagesDescription = [];\r\n\r\n  const { title, description, markdown, buttonText } = formInputs;\r\n  const authors = useSelector((state) => state);\r\n\r\n  const author = localStorage.getItem(\"userNameInLocalStorage\");\r\n  const images = authors.imageID;\r\n  const imagePath = authors.imgPath;\r\n  const postedByEmail = localStorage.getItem(\"userEmailInLocalStorage\");\r\n  const cusineImages = authors.imageArrayID;\r\n  const cusineImagesPath = authors.imageArrayPath;\r\n  const visitedPlaceImages = authors.imageVisitArrayID;\r\n  const visitedPlacesImagesPath = authors.imageVisitArrayPath;\r\n  const NoOfCusineImages = authors.imageArrayLength;\r\n  const NoOfVisitedPlacaeImages = authors.imageVisitArrayLength;\r\n\r\n  const [cusine, setCusine] = useState([]);\r\n  const [visited, setVisited] = useState([]);\r\n\r\n  const [eachCusine, setEachCusine] = useState({\r\n    0: \"\",\r\n    1: \"\",\r\n    2: \"\",\r\n    3: \"\",\r\n    4: \"\",\r\n    5: \"\",\r\n  });\r\n  const [eachVisited, setEachVisited] = useState({\r\n    0: \"\",\r\n    1: \"\",\r\n    2: \"\",\r\n    3: \"\",\r\n    4: \"\",\r\n    5: \"\",\r\n  });\r\n\r\n  const [visitedPlaces, setVisitedPlaces] = useState(visitedPlacesImagesPath);\r\n\r\n  const handleDescriptionChange = (event) => {\r\n    setEachCusine({ ...eachCusine, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleVisitedDescription = (event) => {\r\n    setEachVisited({ ...eachVisited, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setFormInputs({\r\n      ...formInputs,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"gone gobn\");\r\n\r\n    for (let i = 0; i < cusine.length; i++) {\r\n      cusineImagesDescription.push(eachCusine[i]);\r\n    }\r\n\r\n    for (let i = 0; i < visited.length; i++) {\r\n      visitedPlacesImagesDescription.push(eachVisited[i]);\r\n    }\r\n\r\n    setFormInputs({ ...formInputs, buttonText: \"Submitting\" });\r\n\r\n    axios\r\n      .post(\"/add-new-article\", {\r\n        title,\r\n        description,\r\n        markdown,\r\n        author,\r\n        images,\r\n        imagePath,\r\n        postedByEmail,\r\n        cusineImages,\r\n        cusineImagesPath,\r\n        visitedPlaceImages,\r\n        visitedPlacesImagesPath,\r\n        cusineImagesDescription,\r\n        visitedPlacesImagesDescription,\r\n      })\r\n      .then((res) => {\r\n        console.log(`new article posted ${res} and ${author} and ${images}`);\r\n        setFormInputs({\r\n          ...formInputs,\r\n          title: \"\",\r\n          description: \"\",\r\n          markdown: \"\",\r\n          buttonText: \"Submitted\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          `There is error while pushing to database from frontend ${err}`\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n        <div className=\"container\">\r\n          <h2 className=\"text-center\">Add New Article</h2>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4\">\r\n            <div>\r\n              {\" \"}\r\n              Upload the image of the city\r\n              <Uploadimage />\r\n              <br />\r\n            </div>\r\n            <div>\r\n              {\" \"}\r\n              upload cusine image (upto 6 images)\r\n              <br /> <UploadArray setCusine={setCusine} />{\" \"}\r\n            </div>\r\n            <div>\r\n              {\" \"}\r\n              upload visited place image (upto 6 images)\r\n              <br /> <UploadVisitedPlaceArray setVisited={setVisited} />{\" \"}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label>Title</label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  value={title}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  rows=\"4\"\r\n                  name=\"description\"\r\n                  value={description}\r\n                  onChange={handleChange}\r\n                ></textarea>\r\n              </div>\r\n              <div>\r\n                {cusine.map((inp, index) => (\r\n                  <div key={index} className=\"form-group\">\r\n                    <label>Describe you {index} cusine </label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      rows=\"2\"\r\n                      name={index}\r\n                      onChange={handleDescriptionChange}\r\n                    ></textarea>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div>\r\n                {visited.map((inp, index) => (\r\n                  <div key={index} className=\"form-group\">\r\n                    <label>Describe you {index} visited place </label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      rows=\"2\"\r\n                      name={index}\r\n                      onChange={handleVisitedDescription}\r\n                    ></textarea>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Markdown</label>\r\n                <textarea\r\n                  rows=\"3\"\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  name=\"markdown\"\r\n                  value={markdown}\r\n                  onChange={handleChange}\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  type=\"submit\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {buttonText}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>{\" \"}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NewArticle;\r\n"]},"metadata":{},"sourceType":"module"}